{"version":3,"sources":["webpack:///./src/components/Tree/index.js","webpack:///./src/components/MarkdownPage/components/Sidebar/index.js","webpack:///./src/components/MarkdownPage/components/TableOfContents/index.js","webpack:///./src/components/MarkdownPage/index.js","webpack:///./src/templates/notebook.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es7.object.entries.js","webpack:///./content/sidebar.yml","webpack:///./node_modules/gatsby/node_modules/core-js/modules/_object-to-array.js"],"names":["Tree","props","className","treeClassName","nodeClassName","node","nodeCreator","activeID","treeNodeElement","useRef","activeNodeElement","useEffect","current","scrollTop","getBoundingClientRect","top","window","screen","availHeight","ref","cns","createNode","active","id","label","styl","children","map","subNode","key","defaultProps","Sidebar","location","useState","sideBarIsOpen","setSideBarIsOpen","treeData","NaN","createTree","list","paths","pathname","split","filter","Boolean","item","decodeURIComponent","sidebar","open","content","findActiveID","context","to","path","title","plainText","toggleButton","onClick","TemplateContext","Consumer","idPrefix","relativePath","buildPath","index","String","join","Object","entries","tree","pathIndex","i","length","child","treeDate","createTreeData","tableOfContentsAST","tableOfContents","wrapper","href","value","markdownRemark","noTOC","markdownPage","main","dangerouslySetInnerHTML","__html","html","TableOfContents","React","createContext","Notebook","data","pageContext","headingIDs","Provider","pageQuery","$export","$entries","S","it","module","exports","DESCRIPTORS","getKeys","toIObject","isEnum","f","isEntries","O","keys","result","call","push"],"mappings":"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","file":"component---src-templates-notebook-js-e08144491996ae48d0e0.js","sourcesContent":["import React, { useEffect, useRef } from 'react'\nimport PropTypes from 'prop-types'\n\nimport cns from 'classnames'\nimport styl from './Tree.module.scss'\n\nTree.propTypes = {\n  node: PropTypes.object.isRequired,\n  context: PropTypes.object,\n  activeID: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  nodeCreator: PropTypes.func,\n  treeClassName: PropTypes.string,\n  nodeClassName: PropTypes.string,\n}\n\nTree.defaultProps = {\n  nodeCreator: (node) => <span>{node.label}</span>\n}\n\nfunction Tree(props) {\n  const { className, treeClassName, nodeClassName, node, nodeCreator, activeID } = props\n\n  const treeNodeElement = useRef(null)\n  const activeNodeElement = useRef(null)\n\n  useEffect(() => {\n    if (treeNodeElement.current && activeNodeElement.current) {\n      treeNodeElement.current.scrollTop = (\n        activeNodeElement.current.getBoundingClientRect().top -\n        (window.screen.availHeight - treeNodeElement.current.getBoundingClientRect().top) / 2\n      )\n    }\n  }, [])\n\n  return (\n    <div\n      ref={treeNodeElement}\n      className={cns(treeClassName, className)}\n    >\n      {createNode({ node, nodeCreator, activeID, nodeClassName, activeNodeElement })}\n    </div>\n  )\n}\n\nfunction createNode({ node, nodeCreator, activeID, nodeClassName, activeNodeElement }) {\n  const active = node.id === activeID\n\n  return (\n    <div className={cns(nodeClassName, { active })} ref={active ? activeNodeElement : null}>\n      {node.label && <div className={styl.label}>{nodeCreator(node)}</div>}\n      {node.children && (\n        <ul>\n          {node.children.map((subNode) => (\n            <li key={subNode.id}>\n              {createNode({ node: subNode, nodeCreator, activeID, nodeClassName, activeNodeElement })}\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  )\n}\n\nexport default Tree\n","import React, { useState } from 'react'\nimport { Link } from 'gatsby'\n\nimport Tree from '../../../Tree'\n\nimport { TemplateContext } from '../../../../templates/notebook'\nimport list from '../../../../../content/sidebar.yml'\n\nimport cns from 'classnames'\nimport styl from './index.module.scss'\n\nfunction Sidebar({ location }) {\n  const [sideBarIsOpen, setSideBarIsOpen] = useState(false)\n\n  const treeData = {\n    id: NaN,\n    children: createTree(list),\n  }\n\n  function handleToggleSideBar() {\n    setSideBarIsOpen(!sideBarIsOpen)\n  }\n\n  const paths = location.pathname.split('/')\n    .filter(Boolean)\n    .map((item) => decodeURIComponent(item))\n\n  return (\n    <>\n      <nav\n        className={cns(\n          'sidebar',\n          'hidden-xs',\n          'hidden-sm',\n          styl.sidebar,\n          { [styl.open]: sideBarIsOpen },\n        )}\n      >\n        <Tree\n          className={styl.content}\n          treeClassName=\"theme-tree\"\n          nodeClassName=\"theme-tree-node\"\n          activeID={findActiveID(treeData, paths)}\n          node={treeData}\n          nodeCreator={\n            node => node.context\n              ? <Link to={node.context.path} title={node.label} className={styl.label}>{node.label}</Link>\n              : <span title={node.label} className={cns(styl.label, styl.plainText)}>{node.label}</span>\n          }\n        />\n      </nav>\n\n      <div\n        className={cns(\n          'hidden-lg',\n          { 'theme-color': sideBarIsOpen },\n          styl.toggleButton,\n        )}\n        onClick={handleToggleSideBar}\n      >\n        <i className=\"fa fa-align-right\"/>\n      </div>\n    </>\n  )\n}\n\nexport default () => (\n  <TemplateContext.Consumer>\n    {context => <Sidebar location={context.location} />}\n  </TemplateContext.Consumer>\n)\n\nfunction createTree(list, idPrefix = '', relativePath = '/') {\n  const buildPath = label => relativePath + label + '/'\n\n  return list.map((item, index) => {\n    const id = [idPrefix, String(index)].filter(Boolean).join('-')\n\n    if (typeof item === 'string') {\n      return {\n        id,\n        label: item,\n        context: {\n          path: buildPath(item),\n        },\n      }\n    }\n\n    const [label, value] = Object.entries(item)[0]\n    return {\n      id,\n      label,\n      children: createTree(value, id, buildPath(label)),\n    }\n  })\n}\n\nfunction findActiveID(tree, paths, pathIndex = 0) {\n  const path = paths[pathIndex]\n\n  for (let i = 0; i < tree.children.length; i++) {\n    const child = tree.children[i]\n    if (child.label === path) {\n      if (child.children) {\n        return findActiveID(child, paths, pathIndex + 1)\n      }\n\n      return child.id\n    }\n  }\n\n  return NaN\n}\n","import React from 'react'\n\nimport Tree from '../../../Tree'\n\nimport cns from 'classnames'\nimport styl from './index.module.scss'\n\nexport default function(props) {\n  const { tableOfContentsAST } = props\n\n  const treeDate = {\n    id: -1,\n    children: createTreeData(tableOfContentsAST)\n  }\n\n  return (\n    <div className={cns('hidden-xs', 'hidden-sm', styl.tableOfContents)}>\n      <div className={styl.wrapper}>\n        {/*<div className={styl.content} dangerouslySetInnerHTML={{ __html: tableOfContents }} />*/}\n        <Tree\n          className={styl.content}\n          node={treeDate}\n          nodeCreator={node => <a href={node.context.path} title={node.label} className={styl.label}>{node.label}</a>}\n        />\n      </div>\n    </div>\n  )\n}\n\nfunction createTreeData(list = []) {\n  return list.map((item, index) => {\n    const node = {\n      id: item.value,\n      label: item.value,\n      context: {\n        path: `#${item.value}`,\n      }\n    }\n\n    if (!item.children && index !== 0) {\n      return node\n    }\n\n    return {\n      ...node,\n      children: createTreeData(item.children)\n    }\n  })\n}\n","import React from 'react'\n\nimport Sidebar from './components/Sidebar'\nimport TableOfContents from './components/TableOfContents'\nimport Theme from '../../components/theme'\n\nimport cns from 'classnames'\nimport './index.scss'\nimport styl from './index.module.scss'\n\nexport default function(props) {\n  const { /* title, */markdownRemark, tableOfContentsAST, /* headingIDs */ } = props\n\n  const noTOC = tableOfContentsAST.length === 0\n\n  return (\n    <Theme>\n      <div className={styl.markdownPage}>\n        <Sidebar />\n\n        <div className={cns('markdown', styl.main, { [styl.noTOC]: noTOC })}>\n          <div className={styl.wrapper}>\n            {/*<div className={cns('title', styl.title)}>{title}</div>*/}\n            <div dangerouslySetInnerHTML={{ __html: markdownRemark.html }} />\n          </div>\n        </div>\n\n        {!noTOC && <TableOfContents tableOfContentsAST={tableOfContentsAST} />}\n      </div>\n    </Theme>\n  )\n}\n","import React from \"react\"\nimport { graphql } from \"gatsby\"\n\nimport SEO from '../components/seo'\nimport MarkdownPage from 'components/MarkdownPage'\n\nexport const TemplateContext = React.createContext({\n  location: {}\n})\n\nexport default function Notebook({ data, location, pageContext: { title, headingIDs, tableOfContentsAST } }) {\n  const { markdownRemark } = data\n\n  return (\n    <TemplateContext.Provider value={{ location }}>\n      <SEO title={title}></SEO>\n      <MarkdownPage\n        title={title}\n        markdownRemark={markdownRemark}\n        headingIDs={headingIDs}\n        tableOfContentsAST={tableOfContentsAST}\n      />\n    </TemplateContext.Provider>\n  )\n}\n\nexport const pageQuery = graphql`\n  query($path: String!) {\n    markdownRemark(fields: { slug: { eq: $path } }) {\n      html\n      tableOfContents (\n        pathToSlugField: \"fields.slug\"\n        heading: null\n        maxDepth: 4\n      )\n    }\n  }\n`\n","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $entries = require('./_object-to-array')(true);\n\n$export($export.S, 'Object', {\n  entries: function entries(it) {\n    return $entries(it);\n  }\n});\n","module.exports = [\"杂记\",\"生活感悟与人生格言\",\"爱情的味道\",\"说话的艺术\",\"诗歌\",\"学习规划\",{\"读书笔记\":[\"自卑与超越\",\"爱的艺术\",\"少年维特的烦恼\",\"规模：复杂世界的简单法则\",\"以幽默的方式过一生\"]},{\"Notebook\":[\"功能需求\",\"技术选型\"]},{\"计算机与程序\":[{\"程序设计思想\":[\"接口设计\"]},{\"工具\":[{\"Git\":[\"Branch\",\"FAQs\"]}]},{\"Redis\":[\"基本类型\",\"命令\"]},{\"DynamoDB\":[\"FAQs\"]},{\"CSS\":[\"如何使用 CSS 自动切换明暗模式\"]},{\"JavaScript\":[\"学习资料\",\"注意项\"]},{\"Golang\":[\"介绍\",\"快速上手\",{\"核心概念\":[\"接口\"]},{\"Package\":[{\"Time\":[\"Format\"]}]},\"类型转换\",\"正则表达式\",\"学习资源\",\"生态系统\",\"常见错误\",\"FAQs\"]},{\"微信开发\":[\"获取用户头像模糊不清晰\"]},{\"Linux\":[{\"Command\":[\"chsh\"]},\"用户管理\"]},\"计算机科普\",{\"计算机基础\":[{\"Mac\":[\"shortcut\"]}]},{\"服务器\":[\"通过公网服务器访问内网服务器\"]}]},{\"English\":[{\"EF\":[{\"Meeting\":[\"Lesson1 Opening a meeting\",\"Lesson2 Discussing proposals in a meeting\"]},{\"Music\":[\"Lession1 Talking about music you like\"]}]},{\"航空业\":[\"缩写\"]},\"FAQs\"]},{\"Writing\":[{\"如何书写技术文档\":[\"介绍\",\"文档体系\",\"参考资料\"]}]},\"YouTube\"]","var DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || isEnum.call(O, key)) {\n        result.push(isEntries ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n"],"sourceRoot":""}