{"componentChunkName":"component---src-templates-notebook-index-tsx","path":"/计算机与编程/Golang/文件操作/","result":{"data":{"mdx":{"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"golang-文件操作\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Golang \\u6587\\u4EF6\\u64CD\\u4F5C\", mdx(\"a\", {\n    parentName: \"h1\",\n    \"href\": \"#golang-%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C\",\n    \"aria-label\": \"golang 文件操作 permalink\",\n    \"className\": \"autolink-header-icon after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"height\": \"20\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"20\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"h2\", {\n    \"id\": \"reading-files\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Reading Files\", mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#reading-files\",\n    \"aria-label\": \"reading files permalink\",\n    \"className\": \"autolink-header-icon after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"height\": \"20\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"20\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"ref: \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://gobyexample.com/reading-files\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow\"\n  }, \"Go by Example: Reading Files\")), mdx(\"h3\", {\n    \"id\": \"ioutilreadfile\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"https://golang.org/pkg/io/ioutil/#ReadFile\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"ioutil.ReadFile\")), mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#ioutilreadfile\",\n    \"aria-label\": \"ioutilreadfile permalink\",\n    \"className\": \"autolink-header-icon after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"height\": \"20\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"20\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"ReadFile reads the file named by filename and returns the contents. A successful call returns err == nil, not err == EOF. Because ReadFile reads the whole file, it does not treat an EOF from Read as an error to be reported.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-go\"\n  }, \"package ioutil\\n\\nfunc ReadFile(filename string) ([]byte, error)\\n\")), mdx(\"p\", null, \"Example\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-go\"\n  }, \"package main\\n\\nimport (\\n    \\\"fmt\\\"\\n    \\\"io/ioutil\\\"\\n    \\\"log\\\"\\n)\\n\\nfunc main() {\\n    content, err := ioutil.ReadFile(\\\"testdata/hello\\\")\\n    if err != nil {\\n        log.Fatal(err)\\n        return\\n    }\\n\\n    fmt.Printf(\\\"File contents: %s\\\", content)\\n}\\n\")), mdx(\"h3\", {\n    \"id\": \"osfileread\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"https://golang.org/pkg/os/#File.Read\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow\"\n  }, \"os.File.Read\"), mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#osfileread\",\n    \"aria-label\": \"osfileread permalink\",\n    \"className\": \"autolink-header-icon after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"height\": \"20\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"20\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"Read reads up to len(b) bytes from the File. It returns the number of bytes read and any error encountered. At end of file, Read returns 0, io.EOF.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-go\"\n  }, \"package os\\n\\nfunc (f *File) Read(b []byte) (n int, err error)\\n\")), mdx(\"p\", null, \"Example\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-go\"\n  }, \"package main\\n\\nimport (\\n    \\\"fmt\\\"\\n    \\\"log\\\"\\n    \\\"os\\\"\\n)\\n\\nfunc main() {\\n    f, err := os.Open(\\\"./filename\\\")\\n    if err != nil {\\n        log.Fatal(err)\\n        return\\n    }\\n\\n    b := make([]byte, 5)\\n    n, err := f.Read(b)\\n    if err != nil {\\n        log.Fatal(err)\\n        return\\n    }\\n    fmt.Printf(\\\"%d bytes: %s\\\\n\\\", n, string(b[:n]))\\n}\\n\")), mdx(\"h2\", {\n    \"id\": \"writing-files\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Writing Files\", mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#writing-files\",\n    \"aria-label\": \"writing files permalink\",\n    \"className\": \"autolink-header-icon after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"height\": \"20\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"20\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"ref: \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://gobyexample.com/writing-files\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow\"\n  }, \"Go by Example: Writing Files\")), mdx(\"h3\", {\n    \"id\": \"ioutilwritefile\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"https://golang.org/pkg/io/ioutil/#WriteFile\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow\"\n  }, \"ioutil.WriteFile\"), mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#ioutilwritefile\",\n    \"aria-label\": \"ioutilwritefile permalink\",\n    \"className\": \"autolink-header-icon after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"height\": \"20\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"20\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"WriteFile writes data to a file named by filename. If the file does not exist, WriteFile creates it with permissions perm (before umask); otherwise WriteFile truncates it before writing.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-go\"\n  }, \"package ioutil\\n\\nfunc WriteFile(filename string, data []byte, perm os.FileMode) error\\n\")), mdx(\"p\", null, \"Example\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-go\"\n  }, \"package main\\n\\nimport (\\n    \\\"io/ioutil\\\"\\n    \\\"log\\\"\\n)\\n\\nfunc main() {\\n    message := []byte(\\\"Hello, Gophers!\\\")\\n    err := ioutil.WriteFile(\\\"testdata/hello\\\", message, 0644)\\n    if err != nil {\\n        log.Fatal(err)\\n        return\\n    }\\n}\\n\")), mdx(\"h3\", {\n    \"id\": \"oscreate\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"https://golang.org/pkg/os/#Create\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"os.Create\")), mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#oscreate\",\n    \"aria-label\": \"oscreate permalink\",\n    \"className\": \"autolink-header-icon after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"height\": \"20\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"20\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"Create creates or truncates the named file. If the file already exists, it is truncated. If the file does not exist, it is created with mode 0666 (before umask). If successful, methods on the returned File can be used for I/O; the associated file descriptor has mode O_RDWR. If there is an error, it will be of type *PathError.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-go\"\n  }, \"package os\\n\\nfunc Create(name string) (*File, error)\\n\")), mdx(\"p\", null, \"Example\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-go\"\n  }, \"package main\\n\\nimport (\\n    \\\"log\\\"\\n    \\\"os\\\"\\n)\\n\\nfunc main() {\\n    f, err := os.Create(\\\"./filename\\\")\\n    if err != nil {\\n        log.Fatal(err)\\n        return\\n    }\\n\\n    defer func() {\\n        err = f.Close()\\n        if err != nil {\\n            log.Fatal(err)\\n            return\\n        }\\n    }()\\n\\n    data := []byte{115, 111, 109, 101, 10}\\n    _, err = f.Write(data)\\n    if err != nil {\\n        log.Fatal(err)\\n        return\\n    }\\n\\n    err = f.Sync()\\n    if err != nil {\\n        log.Fatal(err)\\n        return\\n    }\\n}\\n\")));\n}\n;\nMDXContent.isMDXComponent = true;","rawBody":"# Golang 文件操作\n\n## Reading Files\n\nref: [Go by Example: Reading Files](https://gobyexample.com/reading-files)\n\n### [`ioutil.ReadFile`](https://golang.org/pkg/io/ioutil/#ReadFile)\n\nReadFile reads the file named by filename and returns the contents. A successful call returns err == nil, not err == EOF. Because ReadFile reads the whole file, it does not treat an EOF from Read as an error to be reported.\n\n```go\npackage ioutil\n\nfunc ReadFile(filename string) ([]byte, error)\n```\n\nExample\n\n```go\npackage main\n\nimport (\n\t\"fmt\"\n\t\"io/ioutil\"\n\t\"log\"\n)\n\nfunc main() {\n\tcontent, err := ioutil.ReadFile(\"testdata/hello\")\n\tif err != nil {\n\t\tlog.Fatal(err)\n        return\n\t}\n\n\tfmt.Printf(\"File contents: %s\", content)\n}\n```\n\n### [os.File.Read](https://golang.org/pkg/os/#File.Read)\n\nRead reads up to len(b) bytes from the File. It returns the number of bytes read and any error encountered. At end of file, Read returns 0, io.EOF.\n\n```go\npackage os\n\nfunc (f *File) Read(b []byte) (n int, err error)\n```\n\nExample\n\n```go\npackage main\n\nimport (\n\t\"fmt\"\n\t\"log\"\n\t\"os\"\n)\n\nfunc main() {\n\tf, err := os.Open(\"./filename\")\n\tif err != nil {\n\t\tlog.Fatal(err)\n\t\treturn\n\t}\n\n\tb := make([]byte, 5)\n\tn, err := f.Read(b)\n\tif err != nil {\n\t\tlog.Fatal(err)\n\t\treturn\n\t}\n\tfmt.Printf(\"%d bytes: %s\\n\", n, string(b[:n]))\n}\n```\n\n\n## Writing Files\n\nref: [Go by Example: Writing Files](https://gobyexample.com/writing-files)\n\n### [ioutil.WriteFile](https://golang.org/pkg/io/ioutil/#WriteFile)\n\nWriteFile writes data to a file named by filename. If the file does not exist, WriteFile creates it with permissions perm (before umask); otherwise WriteFile truncates it before writing.\n\n```go\npackage ioutil\n\nfunc WriteFile(filename string, data []byte, perm os.FileMode) error\n```\n\nExample\n\n```go\npackage main\n\nimport (\n\t\"io/ioutil\"\n\t\"log\"\n)\n\nfunc main() {\n\tmessage := []byte(\"Hello, Gophers!\")\n\terr := ioutil.WriteFile(\"testdata/hello\", message, 0644)\n\tif err != nil {\n\t\tlog.Fatal(err)\n        return\n\t}\n}\n```\n\n### [`os.Create`](https://golang.org/pkg/os/#Create)\n\nCreate creates or truncates the named file. If the file already exists, it is truncated. If the file does not exist, it is created with mode 0666 (before umask). If successful, methods on the returned File can be used for I/O; the associated file descriptor has mode O_RDWR. If there is an error, it will be of type *PathError.\n\n```go\npackage os\n\nfunc Create(name string) (*File, error)\n```\n\nExample\n\n```go\npackage main\n\nimport (\n\t\"log\"\n\t\"os\"\n)\n\nfunc main() {\n\tf, err := os.Create(\"./filename\")\n\tif err != nil {\n\t\tlog.Fatal(err)\n        return\n\t}\n\n\tdefer func() {\n\t\terr = f.Close()\n\t\tif err != nil {\n\t\t\tlog.Fatal(err)\n            return\n\t\t}\n\t}()\n\n\tdata := []byte{115, 111, 109, 101, 10}\n\t_, err = f.Write(data)\n\tif err != nil {\n\t\tlog.Fatal(err)\n        return\n\t}\n\n\terr = f.Sync()\n\tif err != nil {\n\t\tlog.Fatal(err)\n        return\n\t}\n}\n```\n","tableOfContents":{"items":[{"url":"#golang-文件操作","title":"Golang 文件操作","items":[{"url":"#reading-files","title":"Reading Files","items":[{"url":"#ioutilreadfile","title":"ioutil.ReadFile"},{"url":"#osfileread","title":"os.File.Read"}]},{"url":"#writing-files","title":"Writing Files","items":[{"url":"#ioutilwritefile","title":"ioutil.WriteFile"},{"url":"#oscreate","title":"os.Create"}]}]}]},"fields":{"filePath":"/计算机与编程/Golang/文件操作.md"}}},"pageContext":{"title":"文件操作","modifiedTime":"2021-06-02 16:08"}},"staticQueryHashes":["63159454"]}